<!--components/textbook-selector/index.wxml-->
<view class="modal-mask" wx:if="{{visible}}" bindtap="handleClose"></view>
<view class="modal-container {{visible ? 'modal-show' : ''}}">
  <view class="modal-content">
    <view class="modal-title">课本选择</view>
    <scroll-view scroll-x class="dict-scroll" enable-flex>
      <view class="dict-list">
        <block wx:for="{{textbooks}}" wx:for-item="dict" wx:key="id">
          <view class="dict-card {{selectedBookId === dict.id ? 'selected' : ''}}" data-id="{{dict.id}}" bindtap="onBookTap">
            <image class="cover-image" src="{{dict.cover}}" mode="aspectFill"></image>
            <view class="dict-info">
              <text class="dict-name">{{dict.name}}</text>
              <text class="dict-count">词汇量 {{dict.wordCount}}</text>
            </view>
          </view>
        </block>
      </view>
    </scroll-view>
    <view class="confirm-button-container">
      <view class="confirm-button" bindtap="onConfirm" wx:class="{{!selectedBookId ? 'disabled' : ''}}">确认</view>
    </view>
  </view>
</view>