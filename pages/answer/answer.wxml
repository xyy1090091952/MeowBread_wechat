<!--pages/answer/answer.wxml-->
<view class="container">
  <!-- Banner模块 -->
  <view class="banner-container fade-in-element fade-delay-2 {{pageLoaded ? 'show' : ''}}">
    <image class="banner-image" src="/images/banner/banner1.jpg" mode="widthFix"></image>
    <!-- 中央 Logo -->
    <image class="banner-logo" src="/images/banner/Meow Bread.svg" mode="widthFix" />
  </view>
  <view class="content">
    <!-- 题库筛选按钮 -->
    <view class="option-card filter-card fade-in-element fade-delay-3 {{pageLoaded ? 'show' : ''}}" bindtap="navigateToFilter">
      <view class="option-text-container">
        <text class="option-main-text">选择你的题型&题库</text>
        <text class="option-sub-text filter-sub-text">{{currentFilterDisplay}}</text>
      </view>
      <image class="option-icon arrow-white" src="/images/icons/arrow_right.svg" />
    </view>

    <!-- 标准模式按钮 -->
    <view class="option-card standard-mode-card fade-in-element fade-delay-4 {{pageLoaded ? 'show' : ''}}" bindtap="startQuickQuiz">
      <view class="option-text-container">
        <text class="option-main-text">标准模式</text>
        <text class="option-sub-text">30道题目，没有时间限制</text>
      </view>
      <image class="option-icon arrow-black" src="/images/icons/arrow_right.svg" />
    </view>

    <!-- 无尽模式按钮 -->
    <view class="option-card endless-mode-card fade-in-element fade-delay-5 {{pageLoaded ? 'show' : ''}}" bindtap="startEndlessQuiz">
      <view class="option-text-container">
        <text class="option-main-text">无尽模式</text>
        <text class="option-sub-text">选中题库的所有题目，10次错误后结束</text>
      </view>
      <image class="option-icon arrow-black" src="/images/icons/arrow_right.svg" />
    </view>

    <!-- 错题重练按钮 -->
    <view class="option-card wrong-questions-card fade-in-element fade-delay-6 {{pageLoaded ? 'show' : ''}}" bindtap="practiceWrongQuestions">
      <view class="option-text-container">
        <text class="option-main-text">错题重练 ({{mistakeCount}})</text>
        <text class="option-sub-text">巩固错误题目</text>
      </view>
      <image class="option-icon arrow-black" src="/images/icons/arrow_right.svg" />
    </view>
  </view>

  <!-- 教材选择弹窗 -->
  <textbook-selector
    visible="{{showTextbookSelector}}"
    bind:close="onCloseSelector"
    bind:select="onSelectTextbook"
  />
</view>
